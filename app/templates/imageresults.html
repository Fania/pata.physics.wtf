{% extends "base.html" %}

{% block content %}

{% include "header.html" %}

<article class="w3-text-theme">

<form class="w3-container" action="../imageresults" method="post">
  <p class="w3-center">
    <input class="w3-radio" type="radio" name="img_choice" value="flickr" checked><label class="w3-validate">Flickr</label>
    <input class="w3-radio" type="radio" name="img_choice" value="getty"><label class="w3-validate">Getty</label>
    <input class="w3-radio" type="radio" name="img_choice" value="bing"><label class="w3-validate">Bing</label>
    <input class="w3-radio" type="radio" name="img_choice" value="google"><label class="w3-validate">Google</label>
  </p>
  <div class="w3-group">
    <input class="w3-input" name="query" autofocus="autofocus" type="text" required><label class="w3-label">Search</label>
    <button type="submit" class="w3-btn w3-theme-l2 fanbtn" onclick="loading();">
      <i class="fa fa-search"></i></button>
  </div>
</form>

<div class="w3-container">
  <hr>
  <nav class="tabs w3-topnav w3-center w3-margin">
    <a class="active" href="#tab1">Spiral</a>
    <a href="#tab2">List</a>
  </nav>
  <hr>
</div>

<div class="w3-container w3-padding">
  <strong>Pataphysicalisation: &nbsp;&nbsp; </strong>
  <form class="inform" action="../imageresults" method="post"><input class="inlink" type="submit" name="query" value="{{ oldquery }}" onclick="loading();"></input><input class="w3-hide" name="img_choice" value="{{ choice }}"></input></form> ==
  <form class="inform" action="../imageresults" method="post"><input class="inlink" type="submit" name="query" value="{{ translations.0 }}" onclick="loading();"></input><input class="w3-hide" name="img_choice" value="{{ choice }}"></input></form> ==
  <form class="inform" action="../imageresults" method="post"><input class="inlink" type="submit" name="query" value="{{ translations.1 }}" onclick="loading();"></input><input class="w3-hide" name="img_choice" value="{{ choice }}"></input></form> ==
  <form class="inform" action="../imageresults" method="post"><input class="inlink" type="submit" name="query" value="{{ translations.2 }}" onclick="loading();"></input><input class="w3-hide" name="img_choice" value="{{ choice }}"></input></form>
</div>


<!-- FLICKR JAVASCRIPT -->
<meta id="davequery" data-query="{{ query }}">
<meta id="ichoice" data-choice="{{ choice }}">
<script>(function(){
  var q = $('#davequery').data();
  var c = $('#ichoice').data();
  // console.log(c.choice);
  if (c.choice === 'flickr'){
    flickrsearch(q.query);
  }
  if (c.choice === 'getty'){
    gettysearch(q.query);
  }
})();
</script>
<!-- <div class="" id="img_num"></div> -->

<!-- GETTY JAVASCRIPT -->
  <!-- <div id="output"></div>
  <script>GetSearchResults("Hello Kitty")</script> -->


<!-- TABS -->
<div class="w3-container tab_container w3-padding-0">

<!-- SPIRAL -->
<div id="tab1" class="tab_content">
  <header class="w3-container w3-theme-l4">
    <h2>Spiral <div class="w3-text-light-grey" style="display:inline;">{{ choice }}</div></h2>
  </header>
  <div class="w3-container">
    <p>
      The results are displayed in golden spiral form in pataphysical fashion. Hover for title, click for source.
    </p>
  </div>
  <div class="w3-container w3-theme-l5" id="img_spiral_div">
    <!-- JAVASCRIPT PUTS SPIRAL HERE -->
  </div>
  <div class="w3-container w3-theme-l5 poetry">
    <div class="img_empty" id="img_spiral_div">
      <!-- Javascript puts spiral code here -->
    </div>
  </div>
</div> <!-- end spiral -->

<!-- LIST -->
<div id="tab2" class="tab_content">
  <header class="w3-container w3-theme-l4">
    <h2>List <div class="w3-text-light-grey" style="display:inline;">{{ choice }}</div></h2>
  </header>
  <div class="w3-container">
    <p>
      Images - Hover for title, click for source.
    </p>
  </div>

  <div class="w3-container w3-theme-l5 poetry">
    <!-- title, img, link -->
    <div class="w3-row" id="img_list_div">
      <!-- Javascript puts list code here -->
    <div class="w3-row">

    </div>
    <div class="img_empty"></div>
  </div>

</div> <!-- end list -->

</div> <!-- end tabs -->

</article>

<script>
  var img_choice = "{{ choice }}";
  $(img_choice).checked = true;
</script>

{% endblock %}
